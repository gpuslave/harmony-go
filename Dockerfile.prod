FROM gcr.io/distroless/base-debian11
ARG BINARY_NAME

USER nonroot:nonroot

EXPOSE 8080

COPY src/web /web
COPY --chmod=755 ${BINARY_NAME} /harmony-go

ENTRYPOINT [ "/harmony-go" ]